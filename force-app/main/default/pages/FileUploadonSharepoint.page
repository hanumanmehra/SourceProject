<apex:page StandardController="Folder__c" extensions="FileUploadOnSharePoint_v2" showHeader="false" sidebar="false" >
    <head>
        <apex:includeScript value="{!$Resource.jquery}"/>
        <apex:includeScript value="{!$Resource.jqueryblockUI}"/>
        
        <script type="text/javascript">
            j$ = jQuery.noConflict(); 
            j$.blockUI.defaults.css = {}; 
            function blockme() { 
                j$.blockUI({ 
                message: j$('#throbber') 
                
                }); 
             }              
        </script>  
        
        <script>
               function uploadMessage(){
                 $("[id$='progressBarDiv']").css('display', 'None');   
            }
        </script>  
    </head>
  
    <style>
        /* This is for the full screen DIV */
        .popupBackground {
            /* Background color */
            background-color:black;
            opacity: 0.20;
            filter: alpha(opacity = 20);
        
            /* Dimensions */
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 998;
            position: absolute;
            
            /* Mouse */
            cursor:wait;
        }
        
        /* This is for the message DIV */
        .PopupPanel {
            /* Background color */
            border: solid 2px blue;
            background-color: white;
        
            /* Dimensions */
            left: 50%;
            width: 300px;
            margin-left: -100px;
            top: 50%;
            height: 50px;
            margin-top: -25px;
            z-index: 999;
            position: fixed;
            
            /* Mouse */
            cursor:pointer;
        }
        
    </style>
    <style>
    .loaderCS{
        z-index: 1011;
        position: fixed;
        padding: 0px;
        margin: 0px;
        width: 30%;
        top: 22%;
        left: 35%;
        text-align: center;
        color: rgb(0, 0, 0);
        border: 0;
        background-color: none;
        cursor: wait;
    }
    .windows8 {
    position: relative;
    width: 72px;
    height:72px;
    margin:auto;
}

.windows8 .wBall {
    position: absolute;
    width: 68px;
    height: 68px;
    opacity: 0;
    transform: rotate(225deg);
        -o-transform: rotate(225deg);
        -ms-transform: rotate(225deg);
        -webkit-transform: rotate(225deg);
        -moz-transform: rotate(225deg);
    animation: orbit 4.8425s infinite;
        -o-animation: orbit 4.8425s infinite;
        -ms-animation: orbit 4.8425s infinite;
        -webkit-animation: orbit 4.8425s infinite;
        -moz-animation: orbit 4.8425s infinite;
}

.windows8 .wBall .wInnerBall{
    position: absolute;
    width: 9px;
    height: 9px;
    background: rgb(247,19,19);
    left:0px;
    top:0px;
    border-radius: 9px;
}

.windows8 #wBall_1 {
    animation-delay: 1.056s;
        -o-animation-delay: 1.056s;
        -ms-animation-delay: 1.056s;
        -webkit-animation-delay: 1.056s;
        -moz-animation-delay: 1.056s;
}

.windows8 #wBall_2 {
    animation-delay: 0.203s;
        -o-animation-delay: 0.203s;
        -ms-animation-delay: 0.203s;
        -webkit-animation-delay: 0.203s;
        -moz-animation-delay: 0.203s;
}

.windows8 #wBall_3 {
    animation-delay: 0.4265s;
        -o-animation-delay: 0.4265s;
        -ms-animation-delay: 0.4265s;
        -webkit-animation-delay: 0.4265s;
        -moz-animation-delay: 0.4265s;
}

.windows8 #wBall_4 {
    animation-delay: 0.6295s;
        -o-animation-delay: 0.6295s;
        -ms-animation-delay: 0.6295s;
        -webkit-animation-delay: 0.6295s;
        -moz-animation-delay: 0.6295s;
}

.windows8 #wBall_5 {
    animation-delay: 0.843s;
        -o-animation-delay: 0.843s;
        -ms-animation-delay: 0.843s;
        -webkit-animation-delay: 0.843s;
        -moz-animation-delay: 0.843s;
}



@keyframes orbit {
    0% {
        opacity: 1;
        z-index:99;
        transform: rotate(180deg);
        animation-timing-function: ease-out;
    }

    7% {
        opacity: 1;
        transform: rotate(300deg);
        animation-timing-function: linear;
        origin:0%;
    }

    30% {
        opacity: 1;
        transform:rotate(410deg);
        animation-timing-function: ease-in-out;
        origin:7%;
    }

    39% {
        opacity: 1;
        transform: rotate(645deg);
        animation-timing-function: linear;
        origin:30%;
    }

    70% {
        opacity: 1;
        transform: rotate(770deg);
        animation-timing-function: ease-out;
        origin:39%;
    }

    75% {
        opacity: 1;
        transform: rotate(900deg);
        animation-timing-function: ease-out;
        origin:70%;
    }

    76% {
    opacity: 0;
        transform:rotate(900deg);
    }

    100% {
    opacity: 0;
        transform: rotate(900deg);
    }
}

@-o-keyframes orbit {
    0% {
        opacity: 1;
        z-index:99;
        -o-transform: rotate(180deg);
        -o-animation-timing-function: ease-out;
    }

    7% {
        opacity: 1;
        -o-transform: rotate(300deg);
        -o-animation-timing-function: linear;
        -o-origin:0%;
    }

    30% {
        opacity: 1;
        -o-transform:rotate(410deg);
        -o-animation-timing-function: ease-in-out;
        -o-origin:7%;
    }

    39% {
        opacity: 1;
        -o-transform: rotate(645deg);
        -o-animation-timing-function: linear;
        -o-origin:30%;
    }

    70% {
        opacity: 1;
        -o-transform: rotate(770deg);
        -o-animation-timing-function: ease-out;
        -o-origin:39%;
    }

    75% {
        opacity: 1;
        -o-transform: rotate(900deg);
        -o-animation-timing-function: ease-out;
        -o-origin:70%;
    }

    76% {
    opacity: 0;
        -o-transform:rotate(900deg);
    }

    100% {
    opacity: 0;
        -o-transform: rotate(900deg);
    }
}

@-ms-keyframes orbit {
    0% {
        opacity: 1;
        z-index:99;
        -ms-transform: rotate(180deg);
        -ms-animation-timing-function: ease-out;
    }

    7% {
        opacity: 1;
        -ms-transform: rotate(300deg);
        -ms-animation-timing-function: linear;
        -ms-origin:0%;
    }

    30% {
        opacity: 1;
        -ms-transform:rotate(410deg);
        -ms-animation-timing-function: ease-in-out;
        -ms-origin:7%;
    }

    39% {
        opacity: 1;
        -ms-transform: rotate(645deg);
        -ms-animation-timing-function: linear;
        -ms-origin:30%;
    }

    70% {
        opacity: 1;
        -ms-transform: rotate(770deg);
        -ms-animation-timing-function: ease-out;
        -ms-origin:39%;
    }

    75% {
        opacity: 1;
        -ms-transform: rotate(900deg);
        -ms-animation-timing-function: ease-out;
        -ms-origin:70%;
    }

    76% {
    opacity: 0;
        -ms-transform:rotate(900deg);
    }

    100% {
    opacity: 0;
        -ms-transform: rotate(900deg);
    }
}

@-webkit-keyframes orbit {
    0% {
        opacity: 1;
        z-index:99;
        -webkit-transform: rotate(180deg);
        -webkit-animation-timing-function: ease-out;
    }

    7% {
        opacity: 1;
        -webkit-transform: rotate(300deg);
        -webkit-animation-timing-function: linear;
        -webkit-origin:0%;
    }

    30% {
        opacity: 1;
        -webkit-transform:rotate(410deg);
        -webkit-animation-timing-function: ease-in-out;
        -webkit-origin:7%;
    }

    39% {
        opacity: 1;
        -webkit-transform: rotate(645deg);
        -webkit-animation-timing-function: linear;
        -webkit-origin:30%;
    }

    70% {
        opacity: 1;
        -webkit-transform: rotate(770deg);
        -webkit-animation-timing-function: ease-out;
        -webkit-origin:39%;
    }

    75% {
        opacity: 1;
        -webkit-transform: rotate(900deg);
        -webkit-animation-timing-function: ease-out;
        -webkit-origin:70%;
    }

    76% {
    opacity: 0;
        -webkit-transform:rotate(900deg);
    }

    100% {
    opacity: 0;
        -webkit-transform: rotate(900deg);
    }
}

@-moz-keyframes orbit {
    0% {
        opacity: 1;
        z-index:99;
        -moz-transform: rotate(180deg);
        -moz-animation-timing-function: ease-out;
    }

    7% {
        opacity: 1;
        -moz-transform: rotate(300deg);
        -moz-animation-timing-function: linear;
        -moz-origin:0%;
    }

    30% {
        opacity: 1;
        -moz-transform:rotate(410deg);
        -moz-animation-timing-function: ease-in-out;
        -moz-origin:7%;
    }

    39% {
        opacity: 1;
        -moz-transform: rotate(645deg);
        -moz-animation-timing-function: linear;
        -moz-origin:30%;
    }

    70% {
        opacity: 1;
        -moz-transform: rotate(770deg);
        -moz-animation-timing-function: ease-out;
        -moz-origin:39%;
    }

    75% {
        opacity: 1;
        -moz-transform: rotate(900deg);
        -moz-animation-timing-function: ease-out;
        -moz-origin:70%;
    }

    76% {
    opacity: 0;
        -moz-transform:rotate(900deg);
    }

    100% {
    opacity: 0;
        -moz-transform: rotate(900deg);
    }
}
    </style>
    
    <apex:outputpanel id="Main">
        <apex:form >
            <apex:pageBlock title="Upload">
              <apex:messages />
                    <apex:inputFile value="{!file}" contentType="{!filetype}" filename="{!fileName }"  fileSize="{!fileSize}" /> 
                    <apex:commandbutton action="{!uploadFile}" value="Upload File"  status="as2"  onclick="blockme()" />
                      <!--<div id="progressBarDiv" style="display:none;text-align:center">
                            <apex:outputtext value="Please refresh this page after some time " />
                     </div>-->
                  
                    <!--- Loader code-->
                    <div id="throbber" style="display:none;" class="loaderCS">
                        <!--<img src="{!URLFOR($Resource.Ajax_Loader)}"/>-->
                        <div class="windows8">
                            <div class="wBall" id="wBall_1">
                            <div class="wInnerBall"></div>
                            </div>
                            <div class="wBall" id="wBall_2">
                            <div class="wInnerBall"></div>
                            </div>
                            <div class="wBall" id="wBall_3">
                            <div class="wInnerBall"></div>
                            </div>
                            <div class="wBall" id="wBall_4">
                            <div class="wInnerBall"></div>
                            </div>
                            <div class="wBall" id="wBall_5">
                            <div class="wInnerBall"></div>
                            </div>
                        </div>
                        <div style="font-weight: 400;font-size: large;margin-top: 9px;">File is Uploading.Please wait.....</div>
                    </div>
                  
                   <!--- Loader code End-->
                     
            </apex:pageBlock>
        </apex:form>
    </apex:outputpanel>
</apex:page>